import requests
import json
from constants import URL, TOKEN, PAYLOAD, HEADERS

class GitterPy(object):
def __init__(self):
pass

def get_user(query=None):
r = requests.get('https://api.gitter.im/v1/user', params=PAYLOAD)
user_data = json.loads(r.text)
response = json.dumps(user_data, indent =4, sort_keys=True) # str
print(response)

def get_rooms(query=None):
r = requests.get('https://api.gitter.im/v1/rooms', params=PAYLOAD)
room_data = json.loads(r.text)
response = json.dumps(room_data, indent =4, sort_keys=True) # str
print(response, type(response))

def get_groups(query=None):
r = requests.get('https://api.gitter.im/v1/groups', params=PAYLOAD)
user_data = json.loads(r.text)
response = json.dumps(user_data, indent =4, sort_keys=True) # str
print(response)

def join():
data = '{"uri":"p-soc/testing"}'
response = requests.post('https://api.gitter.im/v1/rooms', headers=HEADERS, data=data)
return r.status_code

def leave():
data = '{"uri":"p-soc/testing"}'
response = requests.post('https://api.gitter.im/v1/rooms', headers=HEADERS, data=data)
return r.status_code

def post():
data = '{"text":"Moved constants to constants.py"}'
r = requests.post('https://api.gitter.im/v1/rooms/5a3d468fd73408ce4f848340/chatMessages',
                  headers=HEADERS, data=data)
return r.status_code